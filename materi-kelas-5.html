<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Materi PJOK Kelas 5 SD</title>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    
    <script src="bank_soal_5.js"></script>

    <style>
        /* TEMA PROFESIONAL (UNGU - EMAS KHAS KELAS 5) */
        body { font-family: 'Nunito', sans-serif; background-color: #f3e5f5; margin: 0; padding: 0; display: flex; flex-direction: column; min-height: 100vh; color: #333; }
        
        /* HEADER ATAS */
        .header-top { background: #fff; padding: 15px 30px; border-bottom: 4px solid #7b1fa2; box-shadow: 0 4px 15px rgba(0,0,0,0.1); display: flex; align-items: center; justify-content: space-between; position: sticky; top: 0; z-index: 1000; }
        .header-top h1 { margin: 0; color: #4a148c; font-size: 22px; font-weight: 800; text-transform: uppercase; }
        .back-btn { display: inline-flex; align-items: center; gap: 8px; background-color: #7b1fa2; color: white; text-decoration: none; font-weight: 700; font-size: 13px; padding: 8px 20px; border-radius: 50px; transition: 0.3s; }
        .back-btn:hover { background-color: #4a148c; }
        
        /* LAYOUT UTAMA */
        .main-container { width: 95%; max-width: 1250px; margin: 30px auto; padding: 0; display: flex; gap: 25px; box-sizing: border-box; flex: 1; }
        
        /* SIDEBAR (MENU KIRI) */
        .sidebar { width: 280px; flex-shrink: 0; background: #fff; padding: 25px; border-radius: 12px; border: 1px solid #e1bee7; position: sticky; top: 100px; height: fit-content; }
        
        .logo-area { text-align: center; margin-bottom: 25px; border-bottom: 2px dashed #ce93d8; padding-bottom: 20px; }
        .logo-area img { width: 80px !important; height: 80px !important; object-fit: cover; border-radius: 50%; border: 4px solid #7b1fa2; padding: 4px; display: inline-block; }
        
        .menu-label { font-weight: 900; color: #7b1fa2; margin: 25px 0 10px 0; font-size: 0.85em; text-transform: uppercase; padding-left: 10px; border-left: 4px solid #7b1fa2; }
        .nav-btn { display: block; width: 100%; padding: 12px 18px; margin-bottom: 8px; background: #f3e5f5; border: none; border-radius: 10px; text-align: left; cursor: pointer; color: #4a148c; font-size: 14px; font-weight: 700; transition: 0.2s; font-family: 'Nunito', sans-serif; }
        .nav-btn:hover { transform: translateX(5px); background: #e1bee7; }
        .nav-btn.active { background: linear-gradient(135deg, #9c27b0, #7b1fa2); color: white; box-shadow: 0 4px 10px rgba(123, 31, 162, 0.3); }

        /* KONTEN KANAN */
        .content-area { flex-grow: 1; background: #fff; padding: 40px; border-radius: 12px; border: 1px solid #e1bee7; min-height: 800px; box-shadow: 0 4px 20px rgba(0,0,0,0.03); }

        h2 { border-bottom: 3px solid #7b1fa2; color: #4a148c; padding-bottom: 15px; margin-top: 0; font-size: 24px; font-weight: 800; }
        
        /* VIDEO WRAPPER */
        .video-container { width: 100%; aspect-ratio: 16/9; background: #000; margin-bottom: 30px; border-radius: 12px; border: 4px solid #ba68c8; overflow: hidden; }
        iframe { width: 100%; height: 100%; border: none; }
        
        /* DESKRIPSI MATERI */
        .info-card { background: #f3e5f5; border: 1px solid #e1bee7; border-left: 5px solid #7b1fa2; padding: 20px; border-radius: 8px; margin-bottom: 30px; line-height: 1.6; font-size: 15px; text-align: justify; }
        .info-card h3 { margin: 0 0 10px; color: #4a148c; font-size: 16px; font-weight: 800; }

        /* TAMPILAN UJIAN */
        .exam-header { text-align: center; background: #fff3e0; border: 2px solid #ffb300; padding: 30px; border-radius: 12px; margin-bottom: 30px; }
        .exam-title { font-size: 22px; font-weight: 900; color: #f57f17; margin-bottom: 10px; text-transform: uppercase; }
        .exam-desc { font-size: 15px; color: #555; max-width: 700px; margin: 0 auto 20px; line-height: 1.6; }
        .badge { display: inline-block; background: #fff; border: 1px solid #ffb300; padding: 5px 12px; border-radius: 20px; font-size: 12px; font-weight: bold; color: #f57f17; margin: 0 5px; }

        /* TOMBOL AKSI */
        .btn-group { display: flex; gap: 15px; flex-wrap: wrap; margin-top: 25px; }
        .action-btn { flex: 1; padding: 14px; border: none; border-radius: 8px; cursor: pointer; font-weight: 800; font-size: 14px; color: white; transition: 0.2s; text-transform: uppercase; letter-spacing: 0.5px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); font-family: 'Nunito', sans-serif; }
        .action-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0,0,0,0.15); }
        
        .btn-quiz { background: linear-gradient(135deg, #7b1fa2, #4a148c); } /* Ungu Tua */
        .btn-download { background: linear-gradient(135deg, #00897b, #004d40); } /* Teal */
        .btn-kisi { background: linear-gradient(135deg, #fbc02d, #f57f17); } /* Kuning Emas */
        
        .action-btn:disabled { background: #e0e0e0; color: #999; cursor: not-allowed; transform: none; box-shadow: none; }

        /* KISI-KISI & PDF */
        .kisi-container { display: none; margin-top: 25px; background: #fafafa; padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
        .kisi-table { width: 100%; border-collapse: collapse; font-size: 13px; font-family: 'Times New Roman', serif; }
        .kisi-table th { background: #e1bee7; padding: 10px; border: 1px solid #ce93d8; color: #4a148c; text-align: center; vertical-align: middle; }
        .kisi-table td { padding: 8px; border: 1px solid #ccc; vertical-align: top; }
        .kisi-table tr:nth-child(even) { background-color: #f3e5f5; }
        
        #pdf-overlay { position: absolute; top: 0; left: 0; z-index: -9999; visibility: hidden; width: 790px; background: white; }
        #pdf-content { width: 100%; background: white; color: black; font-family: Arial, sans-serif; font-size: 11pt; line-height: 1.3; padding: 0; }
        .pdf-header-table { width: 100%; border-bottom: 3px double #000; margin-bottom: 10px; }
        .pdf-section { margin-top: 15px; font-weight: bold; }
        .pdf-item { margin-bottom: 8px; page-break-inside: avoid !important; }

      /* ========================================= */
        /* PERBAIKAN KHUSUS MOBILE (RESPONSIVE)      */
        /* ========================================= */
        @media (max-width: 768px) {
            .header-top { flex-direction: column; gap: 10px; padding: 10px; }
            .header-top h1 { font-size: 18px; text-align: center; }
            
            .main-container { 
                flex-direction: column; /* Menu di atas, Konten di bawah */
                margin: 10px auto; 
                width: 95%;
            } 
            
            /* Sidebar dibuat lebih ringkas di HP */
            .sidebar { 
                width: 100%; 
                position: relative; /* Tidak sticky agar tidak menutupi layar */
                top: 0;
                padding: 15px;
                margin-bottom: 20px;
                box-sizing: border-box;
                border-bottom: 4px solid #bbdefb;
            }

            .logo-area img { width: 50px !important; height: 50px !important; }
            .logo-area p { display: none; } /* Sembunyikan nama sekolah di menu HP biar hemat tempat */
            .logo-area { margin-bottom: 10px; padding-bottom: 10px; }

            .menu-label { margin: 10px 0 5px 0; font-size: 0.8em; }

            /* Tombol Menu jadi 2 Kolom (Grid) agar tidak memanjang ke bawah */
            .nav-btn {
                display: inline-block;
                width: 48%; /* Setengah lebar */
                margin-right: 2%;
                margin-bottom: 8px;
                font-size: 12px;
                padding: 10px;
                vertical-align: middle;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }
            /* Tombol Ujian tetap Full Width biar jelas */
            #nav-sts, #nav-sas { width: 100%; background-color: #fff3e0; }

            /* Konten Materi */
            .content-area { 
                padding: 15px; 
                min-height: auto; 
                width: 100%;
                box-sizing: border-box;
            }
            
            h2 { font-size: 18px; }
            
            .btn-group { flex-direction: column; }
            .action-btn { margin-bottom: 10px; width: 100%; }
        }
    </style>
</head>
<body>

    <div class="header-top">
        <div class="header-left"><a href="dashboard.html" class="back-btn">‚¨Ö Dashboard</a></div>
        <div class="header-center"><h1>MATERI PJOK KELAS 5 SD</h1></div>
        <div class="header-right"></div>
    </div>

    <div class="main-container">
        
        <aside class="sidebar">
            <div class="logo-area">
                <img src="logo_final.png" alt="Logo" onerror="this.style.display='none'">
                <p style="margin:10px 0 0 0; font-weight:800; color:#555; font-size:13px;">SD NEGERI 1 CERDAS</p>
            </div>
            
            <div class="menu-label">SEMESTER 1 (GANJIL)</div>
            <button id="nav-a" class="nav-btn active" onclick="bukaHalaman('a', this)">A. Bola Besar</button>
            <button id="nav-b" class="nav-btn" onclick="bukaHalaman('b', this)">B. Bola Kecil (Kasti)</button>
            <button id="nav-c" class="nav-btn" onclick="bukaHalaman('c', this)">C. Atletik</button>
            <button id="nav-d" class="nav-btn" onclick="bukaHalaman('d', this)">D. Bela Diri (Silat)</button>
            <button id="nav-sts" class="nav-btn" style="border-left:4px solid #ffb300;" onclick="bukaHalaman('sts', this)">üìù UJIAN STS (PTS)</button>
            
            <div class="menu-label">SEMESTER 2 (GENAP)</div>
            <button id="nav-e" class="nav-btn" onclick="bukaHalaman('e', this)">E. Kebugaran Jasmani</button>
            <button id="nav-f" class="nav-btn" onclick="bukaHalaman('f', this)">F. Senam Lantai</button>
            <button id="nav-g" class="nav-btn" onclick="bukaHalaman('g', this)">G. Gerak Berirama</button>
            <button id="nav-h" class="nav-btn" onclick="bukaHalaman('h', this)">H. Renang & Kesehatan</button>
            <button id="nav-sas" class="nav-btn" style="border-left:4px solid #ffb300;" onclick="bukaHalaman('sas', this)">üèÜ UJIAN SAS (PAS)</button>
        </aside>

        <main class="content-area">
            <div id="content-dynamic"></div>
        </main>
    </div>
    
    <div id="conn-status" style="position:fixed;bottom:10px;right:10px;background:#333;color:white;padding:5px 15px;border-radius:20px;font-size:11px;">Status: Menghubungkan...</div>
    <div id="pdf-overlay"><div id="pdf-content"></div></div>

    <script>
       // ==========================================
        // 1. DATA MATERI KELAS 5 (VIDEO SUDAH DIPERBAIKI)
        // ==========================================
        const dataMateri = {
            'a': { 
                title: "A. Kombinasi Gerak Bola Besar", 
                vid: "LE5sm1htCOY", // Video Bola Besar (Basket/Voli/Bola)
                desc: "<b>RANGKUMAN LENGKAP:</b><br><br>Kombinasi gerak dalam permainan bola besar melibatkan integrasi beberapa teknik dasar dalam situasi permainan yang lebih dinamis:<br><br><b>Sepak Bola:</b><br>1. <b>Menggiring ‚Üí Menendang:</b> Kontrol bola sambil berlari kemudian menendang ke target<br>2. <b>Mengontrol bola ‚Üí Mengoper:</b> Menghentikan bola dari operan teman lalu mengoper ke pemain lain<br>3. <b>Menyundul ‚Üí Lari ke Posisi:</b> Sundulan untuk operan diikuti pergerakan taktis<br><br><b>Bola Voli:</b><br>1. <b>Passing bawah ‚Üí Passing atas:</b> Kombinasi teknik dasar penerimaan bola<br>2. <b>Servis bawah ‚Üí Posisi bertahan:</b> Melakukan servis kemudian langsung siap bertahan<br>3. <b>Gerak kaki (footwork) ‚Üí Passing:</b> Bergerak menuju bola lalu melakukan passing yang akurat<br><br><b>Bola Basket:</b><br>1. <b>Dribble ‚Üí Pass ‚Üí Cut:</b> Menggiring, mengoper, lalu bergerak ke posisi baru<br>2. <b>Jump stop ‚Üí Shooting:</b> Berhenti melompat kemudian melakukan tembakan<br>3. <b>Rebound ‚Üí Fast break:</b> Merebut bola pantul lalu memulai serangan cepat<br><br>Kombinasi ini mengembangkan keterampilan taktis dasar dan kemampuan membaca permainan." 
            },
            'b': { 
                title: "B. Kombinasi Gerak Bola Kecil", 
                vid: "xJRntl_CdUo", // Video Kasti Kelas 5
                desc: "<b>RANGKUMAN LENGKAP:</b><br><br>Permainan kasti/rounders menuntut kombinasi gerak yang kompleks dalam situasi permainan nyata:<br><br><b>Kombinasi Pemukul:</b><br>1. <b>Ayunan ‚Üí Lari:</b> Memukul bola kemudian langsung lari ke base pertama<br>2. <b>Posisi siap ‚Üí Timing pukulan:</b> Menyesuaikan sikap tubuh dengan jenis lemparan yang datang<br>3. <b>Bunt ‚Üí Sprint:</b> Teknik pukulan pendek (bunt) diikuti lari cepat<br><br><b>Kombinasi Penjaga:</b><br>1. <b>Menangkap ‚Üí Melempar:</b> Menangkap bola lalu segera melempar ke base untuk mengetik lawan<br>2. <b>Antisipasi ‚Üí Gerak refleks:</b> Memprediksi arah pukulan lalu bergerak menuju bola<br>3. <b>Kerja sama lempar-tangkap:</b> Koordinasi antar penjaga base untuk out<br><br><b>Strategi Tim:</b><br>1. Posisi pemain berdasarkan kemampuan (pelempar kuat di outfield)<br>2. Tanda-tanda (sign) antar pemain untuk strategi tertentu<br>3. Sistem rotasi posisi agar semua bermain secara adil<br><br>Permainan ini mengembangkan kemampuan membuat keputasan cepat (decision making) dalam tekanan." 
            },
            'c': { 
                title: "C. Atletik (Lari & Lompat)", 
                vid: "co-gu4I7zOI", // Video Atletik Kelas 5
                desc: "<b>RANGKUMAN LENGKAP:</b><br><br>Kombinasi gerak dalam cabang atletik yang mensimulasikan pertandingan sebenarnya:<br><br><b>Lari Jarak Pendek (50-60m):</b><br>1. <b>Start jongkok teknik:</b> Posisi tangan lebar bahu, kaki kuat di blok start (jika ada)<br>2. <b>Akselerasi ‚Üí Lari maksimal:</b> Transisi dari start ke kecepatan maksimal dalam 20-30m pertama<br>3. <b>Finish technique:</b> Membusungkan dada atau shoulder dip saat melewati garis finish<br><br><b>Lompat Jauh Gaya Jongkok:</b><br>1. <b>Awalan terkontrol:</b> 10-15 langkah dengan percepatan bertahap<br>2. <b>Tolakan tepat:</b> Menggunakan kaki terkuat pada papan tolak tanpa melanggar<br>3. <b>Sikap di udara:</b> Kaki diangkat mendekati dada, tangan membantu keseimbangan<br>4. <b>Mendarat optimal:</b> Kaki lurus ke depan, badan condong, tangan ke depan<br><br><b>Lempar Bola (Pendahuluan tolak peluru):</b><br>1. Pegangan bola dengan jari-jari (bukan telapak)<br>2. Ayunan dari belakang dengan momentum tubuh<br>3. Lepaskan bola di depan atas kepala dengan follow through<br><br>Latihan mengembangkan power, koordinasi, dan teknik yang benar." 
            },
            'd': { 
                title: "D. Bela Diri (Pencak Silat)", 
                vid: "CBeW5bWswpc", // Video Pencak Silat Kelas 5
                desc: "<b>RANGKUMAN LENGKAP:</b><br><br>Pengembangan pencak silat dengan variasi dan kombinasi gerak yang lebih kompleks:<br><br><b>Variasi Kuda-kuda:</b><br>1. Perpindahan antar kuda-kuda (depan ‚Üí belakang ‚Üí samping) dengan lancar<br>2. Kuda-kuda dalam gerakan (kuda-kuda berjalan)<br>3. Kuda-kuda dengan beban berbeda (rendah untuk stabil, tinggi untuk mobilitas)<br><br><b>Variasi Pukulan:</b><br>1. <b>Pukulan lurus depan:</b> Target ulu hati, dagu<br>2. <b>Pukulan bandul:</b> Dari bawah ke atas, target dagu atau perut<br>3. <b>Pukulan sangga:</b> Dari atas ke bawah, target bahu atau kepala<br>4. Kombinasi pukulan: 2-3 pukulan beruntun dengan sasaran berbeda<br><br><b>Tendangan Dasar:</b><br>1. <b>Tendangan lurus (depan):</b> Menggunakan telapak kaki, target perut<br>2. <b>Tendangan samping:</b> Menggunakan pisau kaki, target pinggang<br>3. <b>Tendangan T:</b> Kombinasi tendangan depan dan samping<br><br><b>Tangkisan Kombinasi:</b><br>1. Tangkisan siku (dalam/luar) untuk pukulan dekat<br>2. Tangkisan kaki untuk menahan tendangan lawan<br>3. Elakan (avoidance) dengan memiringkan badan<br><br>Penekanan pada disiplin, pengendalian diri, dan filosofi 'menghindar lebih baik daripada menangkis'." 
            },
            'e': { 
                title: "E. Kebugaran Jasmani", 
                vid: "zVuM2snSJQ8", // Video Kebugaran Jasmani Kelas 5
                desc: "<b>RANGKUMAN LENGKAP:</b><br><br>Program kebugaran terstruktur dengan intensitas yang lebih tinggi untuk usia 10-11 tahun:<br><br><b>Daya Tahan Jantung-Paru:</b><br>1. <b>Lari interval:</b> 2 menit lari sedang ‚Üí 1 menit jalan ‚Üí ulangi 4-5 kali<br>2. <b>Sirkuit kebugaran:</b> Estafet dengan berbagai stasiun (lari, lompat, lempar)<br>3. <b>Lari memindahkan benda:</b> Kombinasi lari dan koordinasi dengan objek<br><br><b>Kekuatan Otot:</b><br>1. <b>Push-up variasi:</b> Diamond push-up, wide push-up, incline push-up<br>2. <b>Sit-up dengan beban:</b> Memegang bola kecil di dada saat sit-up<br>3. <b>Back-up:</b> Menguatkan otot punggung untuk postur yang baik<br>4. <b>Squad jump:</b> Squat dilanjutkan lompat untuk power kaki<br><br><b>Kelenturan Dinamis & Statis:</b><br>1. Dynamic stretching sebelum latihan (leg swing, arm circle)<br>2. Static stretching setelah latihan (hold 20-30 detik per gerakan)<br>3. PNF stretching sederhana dengan bantuan teman untuk hamstring<br><br><b>Pengukuran Kebugaran:</b><br>1. Tes bleep test atau multi-stage fitness test sederhana<br>2. Pengukuran denyut nadi sebelum dan sesudah latihan<br>3. Menghitung recovery rate (berapa lama nadi kembali normal)" 
            },
            'f': { 
                title: "F. Senam Lantai", 
                vid: "FjJ2fm-s_dA", // Video Senam Lantai Guling Depan
                desc: "<b>RANGKUMAN LENGKAP:</b><br><br>Rangkaian senam lantai yang menggabungkan beberapa elemen dalam satu sequence:<br><br><b>Guling Depan (Forward Roll):</b><br>1. Awalan jongkok, tangan menumpu di matras selebar bahu<br>2. Dorong pantat ke atas, tekuk kepala ke dagu<br>3. Gulingkan badan dengan punggung membulat seperti bola<br>4. Mendarat dengan kaki rapat, langsung berdiri<br><br><b>Guling Belakang (Backward Roll):</b><br>1. Awalan jongkok membelakangi matras<br>2. Dorong badan ke belakang, tangan di samping kepala<br>3. Gulingkan dengan dorongan kaki, tangan menumpu<br>4. Mendarat dengan kaki rapat, kembali ke posisi jongkok/berdiri<br><br><b>Sikap Lilin (Candlestick):</b><br>1. Berbaring telentang, angkat kaki lurus ke atas<br>2. Topang pinggang dengan kedua tangan, siku di matras<br>3. Pertahankan posisi 15-30 detik dengan kaki rapat dan lurus<br><br><b>Rangkaian Kombinasi:</b><br>1. Guling depan ‚Üí berdiri ‚Üí sikap kapal terbang (3 detik) ‚Üí guling belakang<br>2. Handstand dengan bantuan (3 detik) ‚Üí turun ke guling depan<br>3. Meroda (cartwheel) dengan bantuan ‚Üí mendarat dengan sikap sempurna<br><br>Penekanan pada flow (kelancaran antar gerakan) dan control (pengendalian tubuh)." 
            },
            'g': { 
                title: "G. Gerak Berirama", 
                vid: "o6JFoATJG0Q", // Video Gerak Berirama Kelas 5
                desc: "<b>RANGKUMAN LENGKAP:</b><br><br>Senam irama dengan koreografi yang lebih kompleks dan elemen gerak tambahan:<br><br><b>Kombinasi Langkah Ritmik:</b><br>1. <b>Grapevine step:</b> Langkah silang ke samping dengan koordinasi tangan<br>2. <b>Box step:</b> Pola persegi dengan hitungan 4<br>3. <b>Step-touch dengan variasi:</b> Dengan hop, turn, atau level change<br>4. Pola 32 hitungan dengan perubahan arah dan formasi<br><br><b>Elemen Gerak Tambahan:</b><br>1. <b>Gerak kepala:</b> Anggukan, gelengan, putaran seiring irama<br>2. <b>Gerak badan:</b> Body roll, body wave sederhana<br>3. <b>Gerak lengan proporsional:</b> Garis lurus, lengkung, spiral, angular<br>4. <b>Level perubahan:</b> Gerak rendah (jongkok), sedang (berdiri), tinggi (jinjit)<br><br><b>Koreografi SKJ Kelas 5:</b><br>1. Biasanya terdiri dari 4 bagian: pemanasan, inti, pendinginan<br>2. Setiap bagian 8-10 gerakan berbeda dengan transisi halus<br>3. Penggunaan ruang (space awareness): depan, belakang, samping, diagonal<br>4. Elemen dinamika: cepat/lambat, kuat/lembut (contrast)<br><br><b>Penampilan Berkelompok:</b><br>1. Formasi: garis lurus, huruf V, setengah lingkaran, berpasangan<br>2. Unison (keseragaman gerak) dan canon (gerak bersusun)<br>3. Ekspresi wajah dan kontak mata dengan penonton" 
            },
            'h': { 
                title: "H. Renang & Bahaya Narkoba", 
                vid: "zm5g4Eobcso", // Video Bahaya Rokok/Miras/Narkoba (Materi Kesehatan)
                desc: "<b>RANGKUMAN LENGKAP:</b><br><br>Dua topik penting: pengembangan teknik renang dan pendidikan pencegahan zat berbahaya:<br><br><b>Renang Gaya Dada (Breaststroke):</b><br>1. <b>Posisi badan:</b> Streamline, bahu sejajar air, kepala masuk air saat menghembus<br>2. <b>Gerakan kaki:</b> Whip kick: tarik tumit ke pantat ‚Üí buka kaki ‚Üí rapatkan dengan dorongan<br>3. <b>Gerakan lengan:</b> Pull-out-in: tarik keluar ‚Üí tarik dalam ‚Üí recovery lurus ke depan<br>4. <b>Koordinasi & napas:</b> Pola: tarik lengan ‚Üí angkat kepala (napas) ‚Üí tendang kaki ‚Üí luncur<br>5. <b>Renang jarak:</b> 12,5m atau 25m dengan teknik konsisten<br><br><b>Bahaya Rokok, Miras, dan Narkoba:</b><br>1. <b>Rokok:</b> 4000+ zat kimia, penyebab kanker, penyakit jantung, gangguan janin<br>2. <b>Minuman Keras (Miras):</b> Menghilangkan kesadaran, kerusakan hati, kecanduan, kecelakaan<br>3. <b>Narkoba (Narkotika & Obat Berbahaya):</b><br>   ‚Ä¢ Jenis: Ganja, sabu, ekstasi, heroin, dll<br>   ‚Ä¢ Efek: Halusinasi, overdosis, kerusakan otak, kematian<br>   ‚Ä¢ Hukum: Tindak pidana dengan hukuman berat<br><br><b>Strategi Penolakan:</b><br>1. Katakan TIDAK dengan tegas<br>2. Alihkan pembicaraan/topik<br>3. Berikan alasan kesehatan atau agama<br>4. Tinggalkan tempat/teman yang menawarkan<br>5. Laporkan pada guru/orang tua jika dipaksa<br><br>Pendidikan sejak dini sebagai investasi masa depan bebas narkoba." 
            },
            
            // --- DATA UJIAN ---
            'sts': { 
                title: "SUMATIF TENGAH SEMESTER (STS)", 
                isExam: true, 
                desc: "<b>RANGKUMAN PERSIAPAN UJIAN:</b><br><br>STS Kelas 5 menguji Bab A sampai D:<br><br>1. <b>Kombinasi Bola Besar:</b> Integrasi teknik sepak bola, voli, basket dalam situasi permainan<br>2. <b>Kombinasi Bola Kecil (Kasti):</b> Strategi tim, kombinasi pukulan-lari, kerja sama penjaga<br>3. <b>Atletik:</b> Teknik lari jarak pendek lengkap, lompat jauh 4 fase, dasar-dasar lempar<br>4. <b>Bela Diri:</b> Variasi kuda-kuda, pukulan, tendangan, tangkisan dalam pencak silat<br><br>Pelajari urutan gerakan dalam kombinasi, strategi dasar setiap permainan, dan filosofi bela diri. Perhatikan aspek keselamatan dan etika bermain.",
                count: "45 Butir Soal" 
            },
            'sas': { 
                title: "SUMATIF AKHIR SEMESTER (SAS)", 
                isExam: true, 
                desc: "<b>RANGKUMAN PERSIAPAN UJIAN:</b><br><br>SAS Kelas 5 menguji Bab E sampai H:<br><br>1. <b>Kebugaran Jasmani:</b> Program latihan terstruktur, pengukuran kebugaran, recovery rate<br>2. <b>Senam Lantai:</b> Rangkaian guling depan, guling belakang, sikap lilin, dan kombinasinya<br>3. <b>Gerak Berirama:</b> Koreografi kompleks, elemen gerak tambahan, penampilan kelompok<br>4. <b>Renang & Kesehatan:</b> Teknik gaya dada lengkap, bahaya rokok/miras/narkoba, strategi penolakan<br><br>Pahami teknik detail, urutan gerakan, konsep kesehatan masyarakat, dan pencegahan zat berbahaya. Ujian ini mengukur kesiapan menuju pendidikan kesehatan yang lebih kompleks.",
                count: "45 Butir Soal" 
            }
        };

        // ===========================================
        // KISI-KISI LENGKAP & SINKRON (KELAS 5)
        // ===========================================
        const HTML_KISI_STS = `
            <div style="text-align:center; font-weight:bold; margin-bottom:10px; font-size:16px; border-bottom:3px solid #7b1fa2; padding-bottom:10px;">KISI-KISI SOAL STS KELAS 5 (GANJIL)</div>
            <table class="kisi-table" width="100%">
                <thead>
                    <tr>
                        <th width="5%">NO</th>
                        <th width="20%">MATERI</th>
                        <th>INDIKATOR SOAL</th>
                        <th width="15%">BENTUK SOAL</th>
                        <th width="10%">NO SOAL</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td rowspan="3" style="vertical-align:middle;"><b>Bab A.</b><br>Permainan Bola Besar</td>
                        <td>Disajikan pernyataan, siswa dapat menyebutkan induk organisasi sepak bola/basket (FIFA/PERBASI).</td>
                        <td>Pilihan Ganda</td>
                        <td>1, 4</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>Siswa dapat menentukan teknik menendang bola operan jarak pendek (kaki bagian dalam).</td>
                        <td>Pilihan Ganda</td>
                        <td>2, 8</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>Siswa dapat menjelaskan posisi tangan saat melakukan passing bawah bola voli.</td>
                        <td>Isian</td>
                        <td>21, 24</td>
                    </tr>

                    <tr>
                        <td>4</td>
                        <td rowspan="3" style="vertical-align:middle;"><b>Bab B.</b><br>Permainan Bola Kecil</td>
                        <td>Disajikan gambar, siswa mampu menentukan teknik melempar bola melambung dalam kasti.</td>
                        <td>Pilihan Ganda</td>
                        <td>5-7</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>Siswa dapat menyebutkan gerak manipulatif dalam permainan kasti (memukul).</td>
                        <td>Pilihan Ganda</td>
                        <td>9</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>Siswa dapat menjelaskan cara mematikan lawan dalam permainan kasti.</td>
                        <td>Essay</td>
                        <td>26</td>
                    </tr>

                    <tr>
                        <td>7</td>
                        <td rowspan="3" style="vertical-align:middle;"><b>Bab C.</b><br>Atletik (Lari/Lompat)</td>
                        <td>Siswa mengetahui teknik start yang digunakan pada lari jarak pendek (start jongkok).</td>
                        <td>Pilihan Ganda</td>
                        <td>10-12</td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td>Siswa dapat menyebutkan tahapan dalam lompat jauh (awalan, tolakan, melayang, mendarat).</td>
                        <td>Isian</td>
                        <td>22, 23</td>
                    </tr>
                    <tr>
                        <td>9</td>
                        <td>Siswa dapat menjelaskan perbedaan jalan dan lari.</td>
                        <td>Essay</td>
                        <td>27</td>
                    </tr>

                    <tr>
                        <td>10</td>
                        <td rowspan="2" style="vertical-align:middle;"><b>Bab D.</b><br>Pencak Silat</td>
                        <td>Disajikan gambar, siswa dapat mengidentifikasi sikap kuda-kuda tengah.</td>
                        <td>Pilihan Ganda</td>
                        <td>13-15</td>
                    </tr>
                    <tr>
                        <td>11</td>
                        <td>Siswa dapat menjelaskan fungsi gerakan tangkisan dalam pencak silat.</td>
                        <td>Essay</td>
                        <td>28</td>
                    </tr>
                </tbody>
            </table>`; 

        const HTML_KISI_SAS = `
            <div style="text-align:center; font-weight:bold; margin-bottom:10px; font-size:16px; border-bottom:3px solid #7b1fa2; padding-bottom:10px;">KISI-KISI SOAL SAS KELAS 5 (GENAP)</div>
            <table class="kisi-table" width="100%">
                <thead>
                    <tr>
                        <th width="5%">NO</th>
                        <th width="20%">MATERI</th>
                        <th>INDIKATOR SOAL</th>
                        <th width="15%">BENTUK SOAL</th>
                        <th width="10%">NO SOAL</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td rowspan="3" style="vertical-align:middle;"><b>Bab E.</b><br>Kebugaran Jasmani</td>
                        <td>Disajikan gambar, siswa mampu menentukan latihan kekuatan otot perut (Sit-up) atau punggung (Back-up).</td>
                        <td>Pilihan Ganda</td>
                        <td>1, 2, 9</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>Siswa dapat menyebutkan manfaat melakukan pemanasan (mencegah cedera/menaikkan suhu tubuh).</td>
                        <td>Pilihan Ganda</td>
                        <td>3, 7</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>Siswa dapat menjelaskan bentuk latihan untuk melatih daya tahan jantung (jogging).</td>
                        <td>Essay</td>
                        <td>26</td>
                    </tr>

                    <tr>
                        <td>4</td>
                        <td rowspan="3" style="vertical-align:middle;"><b>Bab F.</b><br>Senam Lantai</td>
                        <td>Siswa mengetahui induk organisasi senam di Indonesia (PERSANI).</td>
                        <td>Pilihan Ganda</td>
                        <td>6</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>Siswa dapat menyebutkan alat pengaman (alas) dalam senam lantai (matras).</td>
                        <td>Isian</td>
                        <td>21</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>Siswa dapat menjelaskan sikap akhir dari gerakan guling depan (jongkok).</td>
                        <td>Pilihan Ganda</td>
                        <td>5</td>
                    </tr>

                    <tr>
                        <td>7</td>
                        <td rowspan="3" style="vertical-align:middle;"><b>Bab G.</b><br>Gerak Berirama</td>
                        <td>Siswa mengetahui singkatan dari SKJ (Senam Kesegaran Jasmani).</td>
                        <td>Isian</td>
                        <td>22</td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td>Siswa dapat menyebutkan tahapan dalam senam irama (Pemanasan, Inti, Pendinginan).</td>
                        <td>Pilihan Ganda</td>
                        <td>8</td>
                    </tr>
                    <tr>
                        <td>9</td>
                        <td>Siswa dapat menjelaskan tujuan gerakan pendinginan (menurunkan denyut nadi).</td>
                        <td>Pilihan Ganda</td>
                        <td>7</td>
                    </tr>

                    <tr>
                        <td>10</td>
                        <td rowspan="3" style="vertical-align:middle;"><b>Bab H.</b><br>Renang & Kesehatan</td>
                        <td>Disajikan pernyataan, siswa mengetahui zat adiktif dalam rokok (Nikotin/Tar).</td>
                        <td>Pilihan Ganda</td>
                        <td>4</td>
                    </tr>
                    <tr>
                        <td>11</td>
                        <td>Siswa dapat menjelaskan posisi tubuh pada renang gaya dada (telungkup).</td>
                        <td>Isian</td>
                        <td>24</td>
                    </tr>
                    <tr>
                        <td>12</td>
                        <td>Siswa dapat menyebutkan jenis penyakit menular (seperti DB) dan cara pencegahannya.</td>
                        <td>Pilihan Ganda</td>
                        <td>10</td>
                    </tr>
                </tbody>
            </table>`;

        // ==========================================
        // 2. KONEKSI FIREBASE (JALUR KELAS 5)
        // ==========================================
        const firebaseConfig = { apiKey: "AIzaSyD7FsbgyUF1jvDvcrb6wrWlEiQJUFZG3kE", authDomain: "pjok-sekolah-bapak-rendi.firebaseapp.com", databaseURL: "https://pjok-sekolah-bapak-rendi-default-rtdb.asia-southeast1.firebasedatabase.app", projectId: "pjok-sekolah-bapak-rendi", appId: "1:337016584526:web:8534c7cf4012a35427861f" };
        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        let statusUjian = {};

        // SINKRONISASI DATABASE KELAS 5
        database.ref('akses_soal/kelas_5').on('value', (snap) => {
            statusUjian = snap.val() || {};
            renderPage(); 
            document.getElementById('conn-status').innerText = "Status: Terhubung";
            document.getElementById('conn-status').style.background = "#00c853";
        });

        let cur = 'a';
        function bukaHalaman(k, b) { cur=k; document.querySelectorAll('.nav-btn').forEach(e=>e.classList.remove('active')); if(b)b.classList.add('active'); renderPage(); }

        function renderPage() {
            const d = dataMateri[cur];
            const isOpen = statusUjian[cur.toUpperCase()] === true;
            let h = `<h2>${d.title}</h2>`;

            if(!d.isExam) {
                h += `
                <div class="video-container"><iframe src="https://www.youtube.com/embed/${d.vid}" allowfullscreen></iframe></div>
                <div class="info-card"><h3>üìã Rangkuman Materi</h3>${d.desc}</div>`;
            } else {
                h += `
                <div class="exam-header">
                    <div class="exam-title">${d.title}</div>
                    <div class="exam-desc">${d.desc}</div>
                    <div><span class="badge">‚è± 90 Menit</span><span class="badge">üìù ${d.count}</span><span class="badge">üõ° Jujur</span></div>
                </div>`;
            }

            h += `<div class="btn-group">`;
            if(d.isExam) h += `<button class="action-btn btn-kisi" onclick="tampilKisi('${cur}')">üëÅÔ∏è LIHAT KISI-KISI</button>`;
            
            if(isOpen) {
                h += `<button class="action-btn btn-quiz" onclick="window.location.href='kuis_kelas_5.html?bab=${cur.toUpperCase()}&kelas=5'">üöÄ KERJAKAN SEKARANG</button>`;
                h += `<button class="action-btn btn-download" onclick="downloadSoal('${cur}')">üìÑ DOWNLOAD NASKAH SOAL</button>`;
            } else {
                h += `<button class="action-btn" disabled style="background:#e0e0e0; color:#999;">üîí AKSES TERTUTUP</button>`;
            }
            h += `</div>`;

            if(d.isExam) {
                const isiKisi = cur === 'sts' ? HTML_KISI_STS : HTML_KISI_SAS;
                h += `<div id="kisi-${cur}" class="kisi-container">${isiKisi}</div>`;
            }

            document.getElementById('content-dynamic').innerHTML = h;
            window.scrollTo(0,0);
        }

        function tampilKisi(kode) {
            const el = document.getElementById('kisi-' + kode);
            if(el) { el.style.display = el.style.display === 'block' ? 'none' : 'block'; if(el.style.display === 'block') el.scrollIntoView({behavior:'smooth'}); }
        }

        // ==========================================
        // 3. FUNGSI DOWNLOAD PDF (KHUSUS KELAS 5)
        // ==========================================
        window.downloadSoal = function(kode) {
            if(!window.BANK_SOAL_5 || !window.BANK_SOAL_5[kode.toUpperCase()]) { alert("Bank soal belum dimuat."); return; }
            window.scrollTo(0, 0);

            const soal = window.BANK_SOAL_5[kode.toUpperCase()];
            const judul = dataMateri[kode].title.replace("A. ", "").replace("B. ", "").replace("C. ", "").replace("D. ", "").replace("E. ", "").replace("F. ", "").replace("G. ", "").replace("H. ", "");
            
            const div = document.getElementById('pdf-content');
            let html = `
                <table class="pdf-header-table">
                    <tr><td align="center"><h3 style="margin:0; font-size:16pt;">LEMBAR KERJA PESERTA DIDIK (LKPD)</h3><h4 style="margin:5px 0; font-size:14pt;">SD NEGERI 1 CERDAS - PJOK KELAS 5</h4></td></tr>
                </table>
                <table width="100%" style="margin-bottom:15px; border-bottom:2px solid black; font-weight:bold;">
                    <tr><td>Nama : ...........................................</td><td align="right">Hari/Tgl : ..........................</td></tr>
                    <tr><td>Materi : ${judul}</td><td align="right">Nilai : ..........................</td></tr>
                </table>`;

            let no = 1;
            // FORMAT 4 OPSI (A, B, C, D)
            if(soal.pg) {
                html += `<div class="pdf-section">I. Pilihlah jawaban yang paling benar!</div>`;
                soal.pg.forEach(s => {
                    html += `<div class="pdf-item">${no}. ${s.q}<br>
                        <div class="pdf-options" style="margin-top:5px;">
                            A. ${s.opt[0]} &nbsp;&nbsp;&nbsp; 
                            B. ${s.opt[1]} &nbsp;&nbsp;&nbsp; 
                            C. ${s.opt[2]} &nbsp;&nbsp;&nbsp; 
                            D. ${s.opt[3]}
                        </div>
                    </div>`;
                    no++;
                });
            }
            if(soal.isian) {
                html += `<div class="pdf-section">II. Isilah titik-titik di bawah ini!</div>`;
                soal.isian.forEach(s => { html += `<div class="pdf-item">${no}. ${s} ...........................................</div>`; no++; });
            }
            if(soal.essay) {
                html += `<div class="pdf-section">III. Jawablah pertanyaan berikut!</div>`;
                soal.essay.forEach(s => { html += `<div class="pdf-item">${no}. ${s}<br><br><br></div>`; no++; });
            }

            div.innerHTML = html;

            html2pdf().set({
                margin: [10, 15, 15, 15],
                filename: `Naskah_Soal_K5_${kode.toUpperCase()}.pdf`,
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2, useCORS: true, scrollY: 0 },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            }).from(div).save();
        };

        window.onload = () => {
            const navA = document.getElementById('nav-a');
            if(navA) bukaHalaman('a', navA);
        };
    </script>
</body>
</html>